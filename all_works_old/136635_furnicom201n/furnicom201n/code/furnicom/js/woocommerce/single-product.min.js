jQuery(function(n){if("undefined"==typeof wc_single_product_params)return!1;n("body").on("init",".wc-tabs-wrapper, .woocommerce-tabs",function(){n(".wc-tab, .woocommerce-tabs .panel:not(.panel .panel)").hide();var t=window.location.hash,e=window.location.href,i=n(this).find(".wc-tabs, ul.tabs").first();0<=t.toLowerCase().indexOf("comment-")||"#reviews"===t||"#tab-reviews"===t?i.find("li.reviews_tab a").click():0<e.indexOf("comment-page-")||0<e.indexOf("cpage=")?i.find("li.reviews_tab a").click():i.find("li:first a").click()}).on("click",".wc-tabs li a, ul.tabs li a",function(t){t.preventDefault();var e=n(this),i=e.closest(".wc-tabs-wrapper, .woocommerce-tabs");i.find(".wc-tabs, ul.tabs").find("li").removeClass("active"),i.find(".wc-tab, .panel:not(.panel .panel)").hide(),e.closest("li").addClass("active"),i.find(e.attr("href")).show()}).on("click","a.woocommerce-review-link",function(){return n(".reviews_tab a").click(),!0}).on("init","#rating",function(){n("#rating").hide().before('<p class="stars"><span><a class="star-1" href="#">1</a><a class="star-2" href="#">2</a><a class="star-3" href="#">3</a><a class="star-4" href="#">4</a><a class="star-5" href="#">5</a></span></p>')}).on("click","#respond p.stars a",function(){var t=n(this),e=n(this).closest("#respond").find("#rating"),i=n(this).closest(".stars");return e.val(t.text()),t.siblings("a").removeClass("active"),t.addClass("active"),i.addClass("selected"),!1}).on("click","#respond #submit",function(){var t=n(this).closest("#respond").find("#rating"),e=t.val();if(0<t.length&&!e&&"yes"===wc_single_product_params.review_rating_required)return window.alert(wc_single_product_params.i18n_required_rating_text),!1}),n(".wc-tabs-wrapper, .woocommerce-tabs, #rating").trigger("init");var e=function(t,e){this.$target=t,this.$images=n(".woocommerce-product-gallery__image",t),0!==this.$images.length?(t.data("product_gallery",this),this.zoom_enabled=n.isFunction(n.fn.zoom)&&wc_single_product_params.zoom_enabled,this.photoswipe_enabled="undefined"!=typeof PhotoSwipe&&wc_single_product_params.photoswipe_enabled,e&&(this.zoom_enabled=!1!==e.zoom_enabled&&this.zoom_enabled,this.photoswipe_enabled=!1!==e.photoswipe_enabled&&this.photoswipe_enabled),this.initZoom=this.initZoom.bind(this),this.initPhotoswipe=this.initPhotoswipe.bind(this),this.getGalleryItems=this.getGalleryItems.bind(this),this.openPhotoswipe=this.openPhotoswipe.bind(this),this.zoom_enabled&&(this.initZoom(),t.on("woocommerce_gallery_init_zoom",this.initZoom)),this.photoswipe_enabled&&this.initPhotoswipe()):this.$target.css("opacity",1)};e.prototype.initZoom=function(){var t=this.$images,i=this.$target.width(),o=!1;if(n(t).each(function(t,e){if(n(e).find("img").data("large_image_width")>i)return!(o=!0)}),o){var e={touch:!1};"ontouchstart"in window&&(e.on="click"),t.trigger("zoom.destroy"),t.zoom(e)}},e.prototype.initPhotoswipe=function(){this.zoom_enabled&&0<this.$images.length&&(this.$target.find(".product-responsive").prepend('<a href="#" class="woocommerce-product-gallery__trigger">üîç</a>'),this.$target.on("click",".woocommerce-product-gallery__trigger",this.openPhotoswipe)),this.$target.on("click",".woocommerce-product-gallery__image a",this.openPhotoswipe)},e.prototype.getGalleryItems=function(){var t=this.$images,a=[];return 0<t.length&&t.each(function(t,e){var i=n(e).find("img"),o={src:i.attr("data-large_image"),w:i.attr("data-large_image_width"),h:i.attr("data-large_image_height"),title:i.attr("data-caption")?i.attr("data-caption"):i.attr("title")};a.push(o)}),console.log(a),a},e.prototype.openPhotoswipe=function(t){t.preventDefault();var e,i=n(".pswp")[0],o=this.getGalleryItems(),a=n(t.target);e=a.is(".woocommerce-product-gallery__trigger")?this.$target.find(".slick-active"):a.closest(".woocommerce-product-gallery__image");var s={index:n(e).index(),shareEl:!1,closeOnScroll:!1,history:!1,hideAnimationDuration:0,showAnimationDuration:0};new PhotoSwipe(i,PhotoSwipeUI_Default,o,s).init()},n.fn.wc_product_gallery=function(t){return new e(this,t),this},n(".woocommerce-product-gallery").each(function(){n(this).wc_product_gallery()})});